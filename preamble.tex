%! TeX root = dissertation.tex

\documentclass[11pt]{puthesis}

% packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{multirow}
\usepackage{pgfplots}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{subcaption}
\usepackage{titlesec}
\usepackage{stackengine}
\usepackage{scalerel}
\usepackage{microtype}
\usepackage[boxruled,linesnumbered,commentsnumbered,procnumbered]{algorithm2e}
\usepackage[longnamesfirst]{natbib}
\usepackage[hypertexnames=false,hidelinks]{hyperref}
\usepackage[norefs,nocites]{refcheck}

% settings
\pgfplotsset{compat=1.9}
\newcommand{\TODO}[1]{\textcolor{red}{\textsc{TODO}: #1}}
\microtypesetup{expansion=false}

% blackboard
\renewcommand{\P}{\ensuremath{\mathbb{P}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\E}{\ensuremath{\mathbb{E}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\I}{\ensuremath{\mathbb{I}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}

% roman
\newcommand{\rF}{\ensuremath{\mathrm{F}}}
\newcommand{\rd}{\ensuremath{\mathrm{d}}}
\renewcommand{\c}{\ensuremath{\mathrm{c}}}
\newcommand{\TV}{\mathrm{TV}}

% bold
\newcommand{\bW}{\ensuremath{\mathbf{W}}}
\newcommand{\bY}{\ensuremath{\mathbf{Y}}}
\newcommand{\bX}{\ensuremath{\mathbf{X}}}
\newcommand{\bT}{\ensuremath{\mathbf{T}}}
\newcommand{\bA}{\ensuremath{\mathbf{A}}}
\newcommand{\bV}{\ensuremath{\mathbf{V}}}

% calligraphic
\newcommand{\cH}{\ensuremath{\mathcal{H}}}
\newcommand{\cF}{\ensuremath{\mathcal{F}}}
\newcommand{\cN}{\ensuremath{\mathcal{N}}}
\newcommand{\cX}{\ensuremath{\mathcal{X}}}
\newcommand{\cG}{\ensuremath{\mathcal{G}}}
\newcommand{\cW}{\ensuremath{\mathcal{W}}}
\newcommand{\cB}{\ensuremath{\mathcal{B}}}
\newcommand{\cS}{\ensuremath{\mathcal{S}}}
\newcommand{\cT}{\ensuremath{\mathcal{T}}}
\newcommand{\cV}{\ensuremath{\mathcal{V}}}
\newcommand{\cE}{\ensuremath{\mathcal{E}}}
\newcommand{\cU}{\ensuremath{\mathcal{U}}}
\newcommand{\cR}{\ensuremath{\mathcal{R}}}
\newcommand{\cA}{\ensuremath{\mathcal{A}}}
\newcommand{\cC}{\ensuremath{\mathcal{C}}}
\newcommand{\cM}{\ensuremath{\mathcal{M}}}
\newcommand{\cD}{\ensuremath{\mathcal{D}}}
\newcommand{\cP}{\ensuremath{\mathcal{P}}}
\newcommand{\cI}{\ensuremath{\mathcal{I}}}
\newcommand{\cY}{\ensuremath{\mathcal{Y}}}

% sans serif
\newcommand{\T}{\ensuremath{\mathsf{T}}}

% symbols
\newcommand{\vvvert}{{\vert\kern-0.25ex\vert\kern-0.25ex\vert}}
\newcommand{\bigvvvert}{{\big\vert\kern-0.35ex\big\vert\kern-0.35ex\big\vert}}
\newcommand{\Bigvvvert}{{\Big\vert\kern-0.3ex\Big\vert\kern-0.3ex\Big\vert}}
\newcommand{\bigsetminus}{\mathbin{\big\backslash}}
\newcommand{\Bigsetminus}{\mathbin{\Big\backslash}}
\newcommand{\dprime}{\ensuremath{\prime\prime}}
\newcommand{\tprime}{\ensuremath{\prime\prime\prime}}
\newcommand{\objective}{\ensuremath{\mathrm{obj}}}
% TODO remove these macros
\newcommand{\CH}{\ensuremath{C_\mathrm{H}}}
\newcommand{\CL}{\ensuremath{C_\mathrm{L}}}
\newcommand{\Ck}{\ensuremath{C_\mathrm{k}}}
\newcommand{\Cd}{\ensuremath{C_\mathrm{d}}}
\newcommand{\Dl}{\ensuremath{D_{\textup{lo}}}}
\newcommand{\Du}{\ensuremath{D_{\textup{up}}}}
\newcommand{\cPd}{\ensuremath{\mathcal{P}_{\mathrm{d}}}}

% floor of beta
\newcommand{\flbeta}{{\ThisStyle{%
      \ensurestackMath{\stackengine{-0.5\LMpt}{\SavedStyle \beta}%
        {\SavedStyle {\rule{3.7\LMpt}{0.3\LMpt}}}
{U}{c}{F}{F}{S}}\vphantom{\beta}}}}

% operators
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\AIMSE}{AIMSE}
\DeclareMathOperator{\LOOCV}{LOOCV}
\DeclareMathOperator{\symconv}{symconv}
\DeclareMathOperator{\GCV}{GCV}
\DeclareMathOperator{\Unif}{Unif}
\DeclareMathOperator*{\logistic}{logistic}
\DeclareMathOperator{\Bias}{Bias}
\DeclareMathOperator{\Env}{Env}
\DeclareMathOperator*{\esssup}{ess\,sup}
\DeclareMathOperator{\Ber}{Ber}
\DeclareMathOperator{\KL}{KL}
\DeclareMathOperator{\Gam}{Gam}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Exp}{Exp}
\DeclareMathOperator{\Bin}{Bin}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\Leb}{Leb}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\minimize}{minimize}
\DeclareMathOperator*{\subjectto}{subject\ to}
\DeclareMathOperator{\IQR}{IQR}
\DeclareMathOperator{\ROT}{ROT}
\newcommand{\diff}[1]{\,\mathrm{d}#1}

% theorem environments
\newtheoremstyle{break}{\topsep}{\topsep}{\itshape}{}{\bfseries}{}{\newline}{}%
\theoremstyle{break}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{assumption}{Assumption}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{remark}{Remark}[section]

% proof environments
\newtheoremstyle{breakproof}{\topsep}{\topsep}{}{}{\bfseries}{}{\newline}{}%
\theoremstyle{breakproof}
\let\proof\relax
\newtheorem*{proof}{Proof}
\AtBeginEnvironment{proof}{\setcounter{proofparagraphcounter}{0}}%
\AtEndEnvironment{proof}{\null\hfill$\square$}%

% proof paragraphs
\titleformat{\paragraph}[hang]{\bfseries\upshape}{}{0pt}{}[]
\titlespacing*{\paragraph}{0pt}{6pt}{0pt}
\newcounter{proofparagraphcounter}
\newcommand{\proofparagraph}[1]{
  \refstepcounter{proofparagraphcounter}%
\paragraph{Part \theproofparagraphcounter : #1}}%

% inline roman lists
\newlist{inlineroman}{enumerate*}{1}
\setlist[inlineroman]{afterlabel=~,label=(\roman*)}

% algorithms
\DontPrintSemicolon%
\makeatletter%
\renewcommand{\SetKwInOut}[2]{%
  \sbox\algocf@inoutbox{\KwSty{#2}\algocf@typo:}%
  \expandafter\ifx\csname InOutSizeDefined\endcsname\relax%
  \newcommand\InOutSizeDefined{}%
  \setlength{\inoutsize}{\wd\algocf@inoutbox}%
  \sbox\algocf@inoutbox{%
    \parbox[t]{\inoutsize}%
    {\KwSty{#2}\algocf@typo:\hfill}~%
  }%
  \setlength{\inoutindent}{\wd\algocf@inoutbox}%
  \else%
  \ifdim\wd\algocf@inoutbox>\inoutsize%
  \setlength{\inoutsize}{\wd\algocf@inoutbox}%
  \sbox\algocf@inoutbox{%
    \parbox[t]{\inoutsize}%
    {\KwSty{#2}\algocf@typo:\hfill}~%
  }%
  \setlength{\inoutindent}{\wd\algocf@inoutbox}%
  \fi%
  \fi%
  \algocf@newcommand{#1}[1]{%
    \ifthenelse{\boolean{algocf@inoutnumbered}}{\relax}{\everypar={\relax}}{%
      \let\\\algocf@newinout\hangindent=\inoutindent\hangafter=1\parbox[t]%
      {\inoutsize}{\KwSty{#2}%
      \algocf@typo:\hfill}~##1\par%
    }%
    \algocf@linesnumbered%
  }%
}%
\makeatother%
\SetKwInOut{Input}{Input}%
\SetKwInOut{Output}{Output}%
\setlength{\algomargin}{2em}%
